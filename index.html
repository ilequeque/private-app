<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Crush Analyzer üíò</title>
  <style>
    :root{
      --bg1:#ffb6c1; --bg2:#ffa07a; --accent:#ff4b7d; --text:#ffffff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100dvh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      color:var(--text);
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      padding:40px;
    }
    .card{
      width:100%;
      max-width:720px;
      background:rgba(255,255,255,.12);
      backdrop-filter:saturate(140%) blur(8px);
      border:1px solid rgba(255,255,255,.2);
      border-radius:28px;
      padding:28px;
      box-shadow:0 20px 40px rgba(0,0,0,.15);
      text-align:center;
    }
    h1{margin:0 0 8px;font-size:32px}
    p.lead{margin:0 0 20px;opacity:.9}

    /* uploader */
    input[type=file]{display:none}
    .upload{
      display:inline-flex;align-items:center;gap:10px;
      background:#fff;color:var(--accent);
      border:none;border-radius:999px;
      padding:14px 22px;font-weight:700;font-size:16px;cursor:pointer;
      box-shadow:0 8px 20px rgba(0,0,0,.15);
      transition:transform .15s ease, box-shadow .2s ease;
    }
    .upload:active{transform:scale(.98)}
    .preview-wrap {
      margin: 20px auto 0;
      width: 100%;
      max-width: 260px;
      border-radius: 18px;
      padding: 10px;
      background: rgba(255, 255, 255, .14);
      border: 1px solid rgba(255, 255, 255, .22);
      box-shadow: 0 10px 28px rgba(0, 0, 0, .18);
      backdrop-filter: saturate(140%) blur(6px);
      opacity: 0;
      transform: translateY(6px);
      transition: opacity .25s ease, transform .25s ease;
    }
    .preview-wrap.show {
      opacity: 1;
      transform: none;
    }
    .preview {
      width: 100%;
      aspect-ratio: 4 / 5;   /* –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –ø—Ä–æ–ø–æ—Ä—Ü–∏—è */
      object-fit: cover;     /* –±–µ–∑ –∏—Å–∫–∞–∂–µ–Ω–∏–π */
      border-radius: 12px;
      display: block;
      box-shadow: 0 8px 20px rgba(0,0,0,.18);
    }

    button.primary{
      margin-top:16px;
      background:var(--accent);color:#fff;border:none;border-radius:999px;
      padding:14px 22px;font-weight:800;font-size:16px;cursor:pointer;
      box-shadow:0 8px 22px rgba(255,75,125,.45);
      transition:transform .15s ease, box-shadow .2s ease;
    }
    button.primary:active{transform:scale(.98)}

    .loading{margin-top:18px;font-size:18px;letter-spacing:.3px;animation:blink 1s infinite}
    @keyframes blink{0%,100%{opacity:1}50%{opacity:.35}}

    .result{
      display:none;margin-top:24px;padding:18px;border-radius:18px;
      background:rgba(255,255,255,.14);border:1px solid rgba(255,255,255,.22);
      animation:fadeIn .5s ease forwards
    }
    @keyframes fadeIn{from{opacity:0;translate:0 6px}to{opacity:1;translate:0 0}}
    .result .title{font-size:24px;font-weight:900;margin-bottom:6px}
    .result .stats{font-size:16px;line-height:1.6}

    .next{
      margin-top:18px;display:none
    }

    /* A11y: –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–Ω–∏–∂–µ–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è ‚Äî —É–±–∏—Ä–∞–µ–º */
    @media (prefers-reduced-motion:reduce){
      *{animation:none !important;transition:none !important}
    }

    /* Mobile adaptations */
    @media (max-width:768px){
      body{padding:20px}
      .card{padding:20px;border-radius:22px}
      h1{font-size:26px}
      .upload,button.primary{width:100%;max-width:420px;justify-content:center}
      .preview{max-width:180px}
      .result .title{font-size:22px}
      .result .stats{font-size:15px}
      .next{width:100%}
    }

    @media (max-width:420px){
      h1{font-size:22px}
      .preview{max-width:160px}
    }
  </style>
</head>
<body>
  <main class="card">
    <h1>AI Crush Analyzer üíò</h1>
    <p class="lead">–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ ‚Äî –∏ —É–∑–Ω–∞–π —Å–≤–æ–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ üòé</p>

    <label class="upload" for="photoInput">üì∏ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</label>
    <input id="photoInput" type="file" accept="image/*" />

    <div class="preview-wrap" id="previewWrap" hidden>
      <img id="preview" class="preview" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä" />
    </div>

    <button id="analyzeBtn" class="primary" style="display:none;">‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑</button>

    <div id="loading" class="loading" hidden>ü§ñ –ê–Ω–∞–ª–∏–∑ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏...</div>

    <section id="result" class="result" aria-live="polite">
      <div class="title">üíØ BADDY ENERGY DETECTED</div>
      <div class="stats">
        üî• Hotness Level: 1000000/10<br>
        üß† Style IQ: OFF THE CHARTS<br>
        üíã Swipe Magnet: IRRESISTIBLE
      </div>
    </section>

    <button id="nextBtn" class="primary next" onclick="location.href='proposal.html'">–ê —á—Ç–æ –¥–∞–ª—å—à–µ? üíå</button>
  </main>

  <script>
    const photoInput = document.getElementById('photoInput');
    const preview = document.getElementById('preview');
    const analyzeBtn = document.getElementById('analyzeBtn');
    const loading = document.getElementById('loading');
    const result = document.getElementById('result');
    const nextBtn = document.getElementById('nextBtn');
    const previewWrap = document.getElementById('previewWrap');
    photoInput.addEventListener('change', () => {
      const file = photoInput.files?.[0];
      if (!file) return;

      preview.src = URL.createObjectURL(file);

      // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—ë—Ä—Ç–∫—É —Å –ø–ª–∞–≤–Ω—ã–º –ø–æ—è–≤–ª–µ–Ω–∏–µ–º
      previewWrap.hidden = false;
      requestAnimationFrame(() => previewWrap.classList.add('show'));

      analyzeBtn.style.display = 'inline-block';
      result.style.display = 'none';
      nextBtn.style.display = 'none';
      loading.hidden = true;
    });

    photoInput.addEventListener('change', () => {
      const file = photoInput.files?.[0];
      if (!file) return;
      preview.src = URL.createObjectURL(file);
      preview.hidden = false;
      analyzeBtn.style.display = 'inline-block';
      result.style.display = 'none';
      nextBtn.style.display = 'none';
      loading.hidden = true;
    });

    analyzeBtn.addEventListener('click', () => {
      analyzeBtn.disabled = true;
      loading.hidden = false;
      result.style.display = 'none';
      nextBtn.style.display = 'none';

      setTimeout(() => {
        loading.hidden = true;
        result.style.display = 'block';
        analyzeBtn.disabled = false;
        nextBtn.style.display = 'inline-block';
      }, 2000);
    });
  </script>
</body>
</html>
